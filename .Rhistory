source("~/Documents/smith/labbook/Branche_et_al2023/code/plot_CoVAIL_landscapes.R")
arm_cols
path_to_data <- file.path("data", "metadata")
sr_group_code <- read.csv(file.path(path_to_data, "sr_group_code.csv"), sep = ";")
color_schemes <- list.files(path_to_data, pattern = "_scheme_")
color_schemes
col_scheme <- color_schemes[1]
sr_group_colors <- read_csv(file.path(path_to_data, col_scheme), sep = ";")
sr_group_colors <- read.csv(file.path(path_to_data, col_scheme), sep = ";")
arm_cols <- sr_group_colors[unique(sr_group_data$arm_code), "Color"]
names(arm_cols) <- unique(sr_group_data$arm_code)
sr_group_colors <- read.csv(file.path(path_to_data, col_scheme), sep = ";")
sr_group_colors
sr_group_colors <- read.csv(file.path(path_to_data, col_scheme), sep = ";", row.names = "Serum.Group")
sr_group_colors <- read.csv(file.path(path_to_data, col_scheme), sep = ";", row.names = "Serum.group")
arm_cols <- sr_group_colors[unique(sr_group_data$arm_code), "Color"]
names(arm_cols) <- unique(sr_group_data$arm_code)
arm_cols
source("~/Documents/smith/labbook/Branche_et_al2023/code/plot_CoVAIL_landscapes_colour_schemes.R")
lndscp_3js <- plot_landscapes_from_list(data3js, titertables_groups_t, lndscp_fits_t, map, gmt_data, highlighted_ags, ag_plot_names,
arm_cols = arm_colors)
lndscp <-r3js(
lndscp_3js,
rotation = angle$rotation,
zoom = angle$zoom
)
lndscp
source("~/Documents/smith/labbook/Branche_et_al2023/functions/landscape_functions.R")
lndscp_3js <- plot_landscapes_from_list(data3js, titertables_groups_t, lndscp_fits_t, map, gmt_data, highlighted_ags, ag_plot_names,
arm_cols = arm_colors)
lndscp <-r3js(
lndscp_3js,
rotation = angle$rotation,
zoom = angle$zoom
)
lndscp
source("~/Documents/smith/labbook/Branche_et_al2023/functions/landscape_functions.R")
data3js <- base_plot_data3js(map, lndscp_fits, highlighted_ags, lims, ag_plot_names)
lndscp_3js <- plot_landscapes_from_list(data3js, titertables_groups_t, lndscp_fits_t, map, gmt_data, highlighted_ags, ag_plot_names,
arm_cols = arm_colors)
lndscp <-r3js(
lndscp_3js,
rotation = angle$rotation,
zoom = angle$zoom
)
lndscp
source("~/Documents/smith/labbook/Branche_et_al2023/functions/landscape_functions.R")
save_name <- file.path(figure_dir,paste0(v1, "_", v2, "_", v_manuf, "_gmt_landscapes_", gsub(".csv","", col_scheme)))
data3js <- base_plot_data3js(map, lndscp_fits, highlighted_ags, lims, ag_plot_names)
lndscp_3js <- plot_landscapes_from_list(data3js, titertables_groups_t, lndscp_fits_t, map, gmt_data, highlighted_ags, ag_plot_names,
arm_cols = arm_colors)
lndscp <-r3js(
lndscp_3js,
rotation = angle$rotation,
zoom = angle$zoom
)
lndscp
source("~/Documents/smith/labbook/Branche_et_al2023/code/plot_CoVAIL_landscapes_colour_schemes.R")
source("~/Documents/smith/labbook/Branche_et_al2023/code/plot_CoVAIL_landscapes_colour_schemes.R")
source("~/Documents/smith/labbook/Branche_et_al2023/code/plot_CoVAIL_landscapes_colour_schemes.R")
saveRDS(lndscp_list, file.path("data", "landscape_color_schemes.rds"))
lndscp_list$`inf_figures/14DEC2022/inf/col_scheme_landscapes/wo_2dose_b+o_adj/optimization_1/D1_D91_Pf_gmt_landscapes_colour_scheme_auto`
knitr::opts_chunk$set(echo = FALSE, warning = FALSE, message = FALSE)
lndscp_list <- readRDS(file.path("data", "landscape_color_schemes.rds"))
getwd()
lndscp_list <- readRDS(file.path("..", "data", "landscape_color_schemes.rds"))
color_names <- names(lndscp_list)
color_names
emmes_names <- color_names[grepl("emmes", color_names)]
emmes_names
source("~/Documents/smith/labbook/Branche_et_al2023/code/plot_CoVAIL_landscapes_colour_schemes.R")
lndscp_list[[emmes_names]]
lndscp_list <- readRDS(file.path("..", "data", "landscape_color_schemes.rds"))
color_names <- names(lndscp_list)
emmes_names <- color_names[grepl("emmes", color_names)]
camb_names <- color_names[grepl("cambridge", color_names)]
auto_names <- color_names[grepl("auto", color_names)]
lndscp_list[[emmes_names]]
emmes_names
names(lndscp_list)
emmes_names
lndscp_list[[emmes_names[1]]]
lndscp_list[[emmes_names[1]]]
lndscp_list[[emmes_names]
lndscp_list[[emmes_names]]
lndscp_list[[emmes_names]]
lndscp_list
lndscp_list[[1]]
lndscp_list[[c(1:3)]]
lndscp_list[c(1:3)]
knitr::opts_chunk$set(echo = FALSE, warning = FALSE, message = FALSE, include = TRUE)
show(lndscp_list[[1]])
show(lndscp_list[c(1:2)])
emmes_list <- lndscp_list[emmes_names]
camb_list <- lndscp_list[camb_names]
auto_list <- lndscp_list[auto_names]
names(camb_list)
lndscps[[3]]
lndscps <- emmes_list
lndscps[[3]]
lndscps[[6]]
